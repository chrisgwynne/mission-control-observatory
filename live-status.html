<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control - Live Status</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0a0a0f; --bg-secondary: #0f172a; --bg-tertiary: #1e293b;
            --border: #334155; --text-primary: #f8fafc; --text-secondary: #e2e8f0;
            --text-muted: #94a3b8; --accent-green: #22c55e;
            --accent-amber: #f59e0b; --accent-cyan: #06b6d4;
        }
        body {
            font-family: 'SF Mono', Monaco, monospace;
            background: var(--bg-primary); color: var(--text-secondary);
            line-height: 1.6; padding: 2rem; min-height: 100vh;
        }
        h1 { color: var(--text-primary); margin-bottom: 1rem; }
        .status-bar { 
            display: flex; gap: 2rem; margin-bottom: 2rem; flex-wrap: wrap;
        }
        .status-item {
            display: flex; align-items: center; gap: 0.5rem;
            padding: 0.5rem 1rem; background: var(--bg-secondary);
            border-radius: 8px; border: 1px solid var(--border);
        }
        .live-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.375rem 0.75rem; background: rgba(34, 197, 94, 0.15);
            border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 20px;
            font-size: 0.8rem; font-weight: 600; color: var(--accent-green);
            text-transform: uppercase;
        }
        .live-badge::before {
            content: ''; width: 8px; height: 8px; background: var(--accent-green);
            border-radius: 50%; animation: pulse 1.5s ease-in-out infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
        
        .activity-section { margin-top: 2rem; }
        .activity-item {
            background: var(--bg-secondary); border: 1px solid var(--border);
            padding: 1rem; margin-bottom: 0.5rem; border-radius: 8px;
            border-left: 4px solid var(--accent-cyan);
        }
        .timestamp { color: var(--text-muted); font-size: 0.8rem; margin-bottom: 0.5rem; }
        .content { color: var(--text-secondary); }
        .update-time { 
            position: fixed; bottom: 1rem; right: 1rem;
            color: var(--text-muted); font-size: 0.7rem;
        }
    </style>
    <meta http-equiv="refresh" content="30">
</head>
<body>
    <h1>üî¥ Mission Control Live Status</h1>
    
    <div class="status-bar">
        <div class="status-item">üü¢ All Systems Operational</div>
        <div class="status-item">üõ°Ô∏è SHIELD Protected</div>
        <div class="status-item">6 Agents Active</div>
        <div class="live-badge">Live</div>
    </div>

    <div class="activity-section">
        <h2>üì° Recent Activity</h2>
        <pre id="activity-content">Loading...</pre>
    </div>

    <div class="update-time" id="update-time"></div>

    <script>
        async function loadActivity() {
            try {
                const response = await fetch('/home/chris/.openclaw/workspace/mission-control/logs/activity.md');
                let content = await response.text();
                
                // Parse markdown entries
                const entries = content.split('---\n').filter(e => e.trim());
                
                let html = '';
                let count = 0;
                
                for (const entry of entries) {
                    if (count >= 30) break;
                    
                    const lines = entry.trim().split('\n');
                    let timestamp = '';
                    let body = '';
                    
                    for (const line of lines) {
                        if (line.startsWith('## ')) {
                            timestamp = line.replace('## ', '').trim();
                        } else if (line.startsWith('# ')) {
                            continue; // Skip header
                        } else if (line.trim()) {
                            body += line + '\n';
                        }
                    }
                    
                    if (timestamp && body.trim()) {
                        html += `<div class="activity-item">
                            <div class="timestamp">${timestamp}</div>
                            <div class="content">${body.substring(0, 300)}</div>
                        </div>`;
                        count++;
                    }
                }
                
                document.getElementById('activity-content').innerHTML = html;
                document.getElementById('update-time').textContent = 'Updated: ' + new Date().toLocaleTimeString();
            } catch (e) {
                document.getElementById('activity-content').textContent = 'Error loading: ' + e.message;
            }
        }
        
        loadActivity();
        setInterval(loadActivity, 30000);
    </script>
</body>
</html>
